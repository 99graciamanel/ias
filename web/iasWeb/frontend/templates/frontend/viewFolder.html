{% extends 'frontend/base.html' %}
{% block content %}

<ul class="collection with-header">
    <li class="collection-header">
        <h4>Files of {{ folder.name }}</h4>
        <a href="newFile" class="waves-effect waves-light btn"><i class="material-icons left">file_upload</i>New File</a>
    </li>
    {% for file in files %}
    <li class="collection-item">
        <div>
            {{ file.name }}
            {% if role < 2 %}
            <form method="GET" action="editFile" id="editForm{{ file.id }}" class="secondary-content">
                <input name="id" value={{ file.id }} type="hidden"/>
                <a class="secondary-content" href="javascript:{}" onclick="document.getElementById('editForm{{ file.id }}').submit();">
                <i class="material-icons">edit</i>
                </a>
            </form>
            <form method="POST" action="/backend/file/delete" id="deleteForm{{ file.id }}" class="secondary-content">{% csrf_token %}
                <input name="id" value={{ file.id }} type="hidden"/>
                <a class="secondary-content" href="javascript:{}" onclick="document.getElementById('deleteForm{{ file.id }}').submit();">
                <i class="material-icons">delete</i>
                </a>
            </form>
            {% endif %}
            <form method="GET" action="downloadFile" id="forwardForm{{ file.id }}" class="secondary-content">
                <input name="id" value={{ file.id }} type="hidden"/>
                <a class="secondary-content" href="javascript:{}" onclick="document.getElementById('forwardForm{{ file.id }}').submit();">
                <i class="material-icons">file_download</i>
                </a>
            </form>
        </div>
    </li>
    {% endfor %}
</ul>
{% endblock content %}